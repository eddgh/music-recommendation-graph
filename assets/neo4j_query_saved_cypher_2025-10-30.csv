name,description,query,id,parentId,isFolder
RECOMENDAÇÕES,,,0,1,true
Músicas curtidas por usuários semelhantes,,"// Recomendação por gosto musical semelhante
// Músicas Curtidas por usuários com gostos semelhantes
// Com base em outros usuarios que curtiram a mesma música que o usuario Olivia Martinez, recomenda musicas que esses usuarios gostaram e que a Olivia Martinez ainda não curtiu

MATCH (p:Person {name: ""Olivia Martinez""})-[:LIKED]->(s:Song)<-[:LIKED]-(outro:Person)-[:LIKED]->(recomendada:Song)
WHERE NOT (p)-[:LIKED]->(recomendada)
RETURN DISTINCT recomendada.name AS Titulo, recomendada.genre AS Genero, recomendada.spotifyPreviewUrl AS URL, COUNT(*) AS relevancia
ORDER BY relevancia DESC
LIMIT 10",2,0,false
Músicas de artistas seguidos que ainda não foram curtidas,,"// Recomenda musicas de artistas que Olivia segue mas ainda não curtiu nenhuma música deles

MATCH (p:Person {name: ""Olivia Martinez""})-[:LIKES_ARTIST]->(a:Artist)
WHERE NOT EXISTS {
  MATCH (p)-[:LIKED]->(:Song)-[:BY_ARTIST]->(a)
}

// Busca músicas desses artistas
MATCH (a)<-[:BY_ARTIST]-(s:Song)
RETURN DISTINCT s.name AS MusicaRecomendada, a.name AS Artista, s.genre AS Genero, s.spotifyPreviewUrl AS URL
ORDER BY rand()
LIMIT 10",3,0,false
Músicas do mesmo gênero que o usuário costuma curtir,,"// Músicas do mesmo gênero que o usuário costuma curtir

MATCH (p:Person {name: ""Olivia Martinez""})-[:LIKED]->(:Song)-[:HAS_GENRE]->(g:Genre)
MATCH (s:Song)-[:HAS_GENRE]->(g)
WHERE NOT (p)-[:LIKED]->(s)
RETURN DISTINCT s.name AS MusicaRecomendada, g.name AS Genero, s.spotifyPreviewUrl AS URL
ORDER BY rand()
LIMIT 10",4,0,false
"Músicas com perfil sonoro semelhante (dançabilidade, energia)",,,5,0,true
Por dançabilidade,,"// Recomendação por dançabilidade: Quão dançável é a música
// Objetivo: recomendar músicas com perfil sonoro semelhante
// Com base na média do perfil de dançabilidade dos tipos de musica que a Olivia Martinez gosta, busca músicas no banco de dados com perfil parecido e as recomenda.


// Calculando o perfil médio de gosto
MATCH (p:Person {name: ""Olivia Martinez""})-[:LIKED]->(m:Song)
WITH avg(m.danceability) AS avgDance

// Buscando músicas semelhantes no banco
MATCH (s:Song)
WHERE abs(s.danceability - avgDance) < 0.1
  AND NOT EXISTS {
    MATCH (:Person {name: ""Olivia Martinez""})-[:LIKED]->(s)
  }
RETURN s.name AS Titulo, s.danceability AS Dancabilidade, round(avgDance * 100) /100 AS Media_do_Perfil, s.genre AS Genero, s.spotifyPreviewUrl AS URL
LIMIT 8;",6,5,false
Por Distancia Euclidiana,,"// Por Distancia Euclidiana

// Compara atributos como dançabilidade e energia para sugerir músicas com perfil parecido

// Avalia dançabilidade e energia, e ainda pode incluir outras medidas e pesos
// É a que mais se aproxima do gosto real da Pessoa.

// Permite encontrar músicas que combinam com o estilo da pessoa

// É como dizer: “Essa música está bem pertinho do seu gosto no mapa musical!”

// Calculando o perfil medio de danceabilidade e energia das musicas que a pessoa gosta
MATCH (:Person {name: ""Olivia Martinez""})-[:LIKED]->(m:Song)
WITH avg(m.danceability) AS avgDance, avg(m.energy) AS avgEnergy

// Procurando correspondencia nas musicas do banco de dados
MATCH (s:Song)
WHERE NOT EXISTS {
  MATCH (:Person {name: ""Olivia Martinez""})-[:LIKED]->(s)
}

// Calculando a distancia euclidiana
WITH s, avgDance, avgEnergy,
     sqrt(
       (s.danceability - avgDance)^2 +
       (s.energy - avgEnergy)^2
     ) AS distancia
OPTIONAL MATCH (s)-[:TAGGED]->(t:Tag)
WITH s, avgDance, distancia, collect(t.name) AS tags
RETURN s.name AS Titulo, s.danceability AS Dancabilidade, round(avgDance * 100) / 100 AS Media_do_Perfil, s.spotifyPreviewUrl AS URL, s.genre AS Genero, tags AS Tags, distancia AS Distancia
ORDER BY distancia ASC
LIMIT 8;",7,5,false
OUTRAS CONSULTAS,,,8,1,true
TOTAIS GERAIS,,"MATCH (p:Person)
RETURN 'PESSOAS' AS tipo, COUNT(p) AS total

UNION

MATCH (m:Song)
RETURN 'MUSICAS' AS tipo, COUNT(m) AS total

UNION

MATCH (a:Artist)
RETURN 'ARTISTAS' AS tipo, COUNT(DISTINCT a) AS total

UNION

MATCH (t:Tag)
RETURN 'TAGS' AS tipo, COUNT(t) AS total

UNION

MATCH (g:Genre)
RETURN 'GENEROS' AS tipo, COUNT(g) AS total",9,8,false
OS DEZ ARTISTAS COM MAIS MUSICAS,,"MATCH (a:Artist)-[:BY_ARTIST]-(m:Song)
RETURN a.name AS artista, COUNT(m) AS totalMusicas
ORDER BY totalMusicas DESC
LIMIT 10",10,8,false
DEZ ARTISTAS COM PELO MENOS 10 MUSICAS,,"MATCH (a:Artist)-[:BY_ARTIST]-(m:Song)
WITH a.name AS artista, COUNT(m) AS totalMusicas
WHERE COUNT(m) >= 10 AND COUNT(m) < 20
RETURN artista, totalMusicas
ORDER BY totalMusicas DESC
LIMIT 10",11,8,false
TAGS QUE CONTEM 'POP',,"// Detalhes por tag
MATCH (t:Tag)-[:TAGGED]-(m:Song)
WHERE t.name CONTAINS 'pop'
WITH t.name AS tagName, COUNT(m) AS totalMusicas
RETURN tagName, totalMusicas, null AS totalTags

UNION

// Linha única com os totais
MATCH (t:Tag)-[:TAGGED]-(m:Song)
WHERE t.name CONTAINS 'pop'
RETURN 'TOTAL' AS tagName, COUNT(m) AS totalMusicas, COUNT(DISTINCT t.name) AS totalTags",12,8,false
30 MUSICAS,,"MATCH (m:Song)
RETURN DISTINCT m.name AS tituloMusica
LIMIT 30",13,8,false
20 ARTISTAS,,"MATCH (a:Artist)
RETURN DISTINCT a.name AS nomeArtista
LIMIT 20",14,8,false